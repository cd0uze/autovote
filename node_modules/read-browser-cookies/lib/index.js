"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.readCookiesStr = exports.readCookies = exports.chromiumBasedBrowsers = void 0;
const chromium_1 = require("./chromium");
Object.defineProperty(exports, "chromiumBasedBrowsers", { enumerable: true, get: function () { return chromium_1.chromiumBasedBrowsers; } });
async function readCookies(browser = 'chrome', options) {
    if (chromium_1.chromiumBasedBrowsers.includes(browser)) {
        browser = browser;
        return await (0, chromium_1.readChromium)(browser, options);
    }
    // notImplemented()
    return undefined;
}
exports.readCookies = readCookies;
/**
 * return a value for `Cookies: value`
 */
async function readCookiesStr(browser = 'chrome', options) {
    const cookies = await readCookies(browser, options);
    const str = (cookies || [])
        .filter((item) => item.expiresUtc && item.expiresUtc > Date.now())
        .map((c) => `${c.name}=${c.value}`)
        .join(';');
    return str;
}
exports.readCookiesStr = readCookiesStr;
